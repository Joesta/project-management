<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts :: header"></head>

<body>

	<nav th:replace="layouts :: navbar"></nav>

	<div class="container">
		<h3 align="center" style="padding-top: 25px;">Main Dashboard <a th:text="${versionNumber}"></a></h3>
		<hr>

		<h3>Current Projects</h3>
		<hr>
		<div class="row">
			<div class=col-md-6>
				<div>
					<table class="table table-bordered table-striped">
						<thead class="thead-dark">
							<tr>
								<th>Project #</th>
								<th>Project Name</th>
								<th>Project Description</th>
								<th>Project Stage</th>
							</tr>
						</thead>

						<tbody>
							<tr th:each="project : ${projects}">
								<td th:text="${project.projectId}" />
								<td th:text="${project.name}" />
								<td th:text="${project.description}" />
								<td th:text="${project.stage}" />
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- chart goes here -->
			<!-- dummy structure for pie chart data -->
			<h3>Project Stage Count</h3>
			<div class="col-md-4">
				<!-- draw a canvas -->
				<canvas id="myPieChart" height="100" width="100"></canvas>
				<!-- access serialized project status data from the controller from javascript -->
				<script>
					var chartData = "[[${strProjectStatusCount}]]";
					
				</script>
			</div>
		</div>
	</div>


	<div class="container">
		<h3>Current Employees</h3>
		<hr>

		<div class="col-md-6">
			<div>
				<table class="table table-striped">
					<thead class="thead-dark">
						<tr>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Project Count</th>
						</tr>
					</thead>

					<tbody>
						<tr th:each="employeeProjectCount : ${employeeProjectCount}">
							<td th:text="${employeeProjectCount.firstName}" />
							<td th:text="${employeeProjectCount.lastName}" />
							<td th:text="${employeeProjectCount.projectCount}" />
						</tr>
					</tbody>
				</table>
			</div>
		</div>

	</div>

	<!-- import javascript file -->
	<script type="text/javascript" th:src="@{/js/myChart.js}"></script>

</body>

</html>